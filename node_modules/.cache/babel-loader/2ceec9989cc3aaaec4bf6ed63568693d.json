{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\EvolveD\\\\Desktop\\\\ConwaysGameOfLife\\\\src\\\\Components\\\\Grid.js\";\nimport React, { useState, useCallback, useRef, useReducer } from \"react\";\nimport produce from \"immer\";\nimport { getRoles } from \"@testing-library/react\"; // Set the number of rows and columns.  Make this adjustable later\n\nvar gridRow = 10;\nvar gridCol = 10;\nconst numRows = gridRow;\nconst numCols = gridCol;\nvar count = 0;\n\nconst generationCount = () => {\n  if (runningRef.current = true) {\n    count += 1;\n  }\n};\n\nconst clearGrid = () => {\n  const rows = [];\n  counter = 0;\n\n  for (var i = 0; i < numRows; i++) {\n    rows.push(Array.from(Array(numCols), () => 0));\n  }\n\n  console.log(rows);\n  return rows;\n};\n\nconst Grid = () => {\n  // Creating a grid and grid state and looping over it setting all initial values to 0\n  const [grid, setGrid] = useState(() => {\n    return clearGrid();\n  });\n  const [running, setRunning] = useState(false);\n  const runningRef = useRef(running);\n  runningRef.current = running; // let [generation, setGeneration] = useState(0);\n  // let generationRef = useRef(generation);\n  // generationRef = generation;\n\n  const operations = [[0, 1], [1, 1], [1, 0], [0, -1], [-1, -1], [-1, 0], [1, -1], [-1, 1]]; // Simulation function\n\n  const runSimulation = useCallback(() => {\n    if (!runningRef.current) {\n      return;\n    }\n\n    setGrid(g => {\n      return produce(g, gridCopy => {\n        for (let i = 0; i < numRows; i++) {\n          for (let j = 0; j < numCols; j++) {\n            let neighbors = 0;\n            operations.forEach(([x, y]) => {\n              const newI = i + x;\n              const newJ = j + y;\n\n              if (newI >= 0 && newI < numRows && newJ >= 0 < numCols) {\n                neighbors += g[newI][newJ];\n              }\n            });\n\n            if (neighbors < 2 || neighbors > 3) {\n              gridCopy[i][j] = 0;\n            } else if (g[i][j] === 0 && neighbors === 3) {\n              gridCopy[i][j] = 1;\n            }\n          }\n        } // counter++;\n        // console.log(counter);\n        // generation++;\n        // console.log(generation);\n        // generationVariable = generationVariable += 1;\n        // console.log(generationVariable);\n        // setGeneration = generationRef.current + 1;\n        // console.log(generation);\n\n      });\n    });\n    setTimeout(runSimulation, 100);\n  }, []);\n  var count = 0;\n\n  const generationCount = () => {\n    count += 1;\n  };\n\n  var counter = setInterval(generationCount, 100);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => {\n      setRunning(!running);\n\n      if (!running) {\n        runningRef.current = true;\n        runSimulation();\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }\n  }, running ? \"Stop\" : \"Start\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => {\n      setGrid(clearGrid());\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }\n  }, \"Clear\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => {\n      const rows = [];\n\n      for (var i = 0; i < numRows; i++) {\n        rows.push(Array.from(Array(numCols), () => Math.random() > 0.7 ? 1 : 0));\n      }\n\n      setGrid(rows);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }\n  }, \"Random\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"grid\",\n      gridTemplateColumns: `repeat(${numCols}, 20px)`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }\n  }, grid.map((rows, i) => rows.map((col, j) => /*#__PURE__*/React.createElement(\"div\", {\n    key: `${i}-${j}` //Make grid clickable\n    ,\n    onClick: () => {\n      //Setting grid to new copy so that it is mutable\n      const newGrid = produce(grid, gridCopy => {\n        gridCopy[i][j] = grid[i][j] ? 0 : 1;\n      });\n      setGrid(newGrid);\n    } //Setting width, height, and background color.  Make this editable later\n    ,\n    style: {\n      width: 20,\n      height: 20,\n      backgroundColor: grid[i][j] ? \"blue\" : undefined,\n      border: \"1px solid black\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }\n  }, \"Generation Variable: \", counter, \" \"));\n};\n\nexport default Grid;","map":{"version":3,"sources":["C:/Users/EvolveD/Desktop/ConwaysGameOfLife/src/Components/Grid.js"],"names":["React","useState","useCallback","useRef","useReducer","produce","getRoles","gridRow","gridCol","numRows","numCols","count","generationCount","runningRef","current","clearGrid","rows","counter","i","push","Array","from","console","log","Grid","grid","setGrid","running","setRunning","operations","runSimulation","g","gridCopy","j","neighbors","forEach","x","y","newI","newJ","setTimeout","setInterval","Math","random","display","gridTemplateColumns","map","col","newGrid","width","height","backgroundColor","undefined","border"],"mappings":"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","sourcesContent":["import React, { useState, useCallback, useRef, useReducer } from \"react\";\r\nimport produce from \"immer\";\r\nimport { getRoles } from \"@testing-library/react\";\r\n\r\n// Set the number of rows and columns.  Make this adjustable later\r\nvar gridRow = 10;\r\nvar gridCol = 10;\r\nconst numRows = gridRow;\r\nconst numCols = gridCol;\r\nvar count = 0;\r\nconst generationCount = () => {\r\n  if ((runningRef.current = true)) {\r\n    count += 1;\r\n  }\r\n};\r\nconst clearGrid = () => {\r\n  const rows = [];\r\n  counter = 0;\r\n  for (var i = 0; i < numRows; i++) {\r\n    rows.push(Array.from(Array(numCols), () => 0));\r\n  }\r\n  console.log(rows);\r\n  return rows;\r\n};\r\n\r\nconst Grid = () => {\r\n  // Creating a grid and grid state and looping over it setting all initial values to 0\r\n  const [grid, setGrid] = useState(() => {\r\n    return clearGrid();\r\n  });\r\n\r\n  const [running, setRunning] = useState(false);\r\n  const runningRef = useRef(running);\r\n  runningRef.current = running;\r\n  // let [generation, setGeneration] = useState(0);\r\n  // let generationRef = useRef(generation);\r\n  // generationRef = generation;\r\n\r\n  const operations = [\r\n    [0, 1],\r\n    [1, 1],\r\n    [1, 0],\r\n    [0, -1],\r\n    [-1, -1],\r\n    [-1, 0],\r\n    [1, -1],\r\n    [-1, 1],\r\n  ];\r\n\r\n  // Simulation function\r\n  const runSimulation = useCallback(() => {\r\n    if (!runningRef.current) {\r\n      return;\r\n    }\r\n\r\n    setGrid((g) => {\r\n      return produce(g, (gridCopy) => {\r\n        for (let i = 0; i < numRows; i++) {\r\n          for (let j = 0; j < numCols; j++) {\r\n            let neighbors = 0;\r\n            operations.forEach(([x, y]) => {\r\n              const newI = i + x;\r\n              const newJ = j + y;\r\n              if (newI >= 0 && newI < numRows && newJ >= 0 < numCols) {\r\n                neighbors += g[newI][newJ];\r\n              }\r\n            });\r\n\r\n            if (neighbors < 2 || neighbors > 3) {\r\n              gridCopy[i][j] = 0;\r\n            } else if (g[i][j] === 0 && neighbors === 3) {\r\n              gridCopy[i][j] = 1;\r\n            }\r\n          }\r\n        }\r\n        // counter++;\r\n        // console.log(counter);\r\n        // generation++;\r\n        // console.log(generation);\r\n        // generationVariable = generationVariable += 1;\r\n        // console.log(generationVariable);\r\n        // setGeneration = generationRef.current + 1;\r\n        // console.log(generation);\r\n      });\r\n    });\r\n\r\n    setTimeout(runSimulation, 100);\r\n  }, []);\r\n\r\n  var count = 0;\r\n  const generationCount = () => {\r\n    count += 1;\r\n  };\r\n\r\n  var counter = setInterval(generationCount, 100);\r\n\r\n  return (\r\n    <div>\r\n      <button\r\n        onClick={() => {\r\n          setRunning(!running);\r\n          if (!running) {\r\n            runningRef.current = true;\r\n            runSimulation();\r\n          }\r\n        }}\r\n      >\r\n        {running ? \"Stop\" : \"Start\"}\r\n      </button>\r\n      <button\r\n        onClick={() => {\r\n          setGrid(clearGrid());\r\n        }}\r\n      >\r\n        Clear\r\n      </button>\r\n      <button\r\n        onClick={() => {\r\n          const rows = [];\r\n          for (var i = 0; i < numRows; i++) {\r\n            rows.push(\r\n              Array.from(Array(numCols), () => (Math.random() > 0.7 ? 1 : 0))\r\n            );\r\n          }\r\n          setGrid(rows);\r\n        }}\r\n      >\r\n        Random\r\n      </button>\r\n      <div\r\n        style={{\r\n          display: \"grid\",\r\n          gridTemplateColumns: `repeat(${numCols}, 20px)`,\r\n        }}\r\n      >\r\n        {grid.map((rows, i) =>\r\n          rows.map((col, j) => (\r\n            <div\r\n              key={`${i}-${j}`}\r\n              //Make grid clickable\r\n              onClick={() => {\r\n                //Setting grid to new copy so that it is mutable\r\n                const newGrid = produce(grid, (gridCopy) => {\r\n                  gridCopy[i][j] = grid[i][j] ? 0 : 1;\r\n                });\r\n                setGrid(newGrid);\r\n              }}\r\n              //Setting width, height, and background color.  Make this editable later\r\n              style={{\r\n                width: 20,\r\n                height: 20,\r\n                backgroundColor: grid[i][j] ? \"blue\" : undefined,\r\n                border: \"1px solid black\",\r\n              }}\r\n            />\r\n          ))\r\n        )}\r\n      </div>\r\n\r\n      <div>Generation Variable: {counter} </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Grid;\r\n"]},"metadata":{},"sourceType":"module"}